@page "/callback"
@inject AppState state
@inject JsInteropService jsInteropService

@functions {

  protected override async Task OnInitAsync()
  {
    var user = await jsInteropService.Callback();
    if (user != null)
    {
      await state.UpdateUser(user);
      await state.Redirect("/");
    }
  }

}
