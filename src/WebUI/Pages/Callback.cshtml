@page "/callback"
@inject AppState state
@inject JsInterop jsInterop

@functions {

  protected override async Task OnInitAsync()
  {
    var user = await jsInterop.Callback();
    if (user != null)
    {
      await state.UpdateUser(user);
      await jsInterop.Navigate("/");
    }
  }

}
